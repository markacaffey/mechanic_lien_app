<!DOCTYPE html>
<html lang="en">
<head>
    <title>Edit VIN Record</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="container mt-4">

    <h2 class="text-center mb-4">✏️ Edit VIN Record</h2>

    <form method="POST" class="row g-2">

        <!-- 🚗 Vehicle Information -->
        <div class="col-12">
            <h4 class="bg-primary text-white p-2">🚗 Vehicle Information</h4>
        </div>
        <div class="col-md-3"><label>VIN</label><input type="text" class="form-control form-control-sm" name="vin" value="{{ vin.vin }}" required></div>
        <div class="col-md-2"><label>Year</label><input type="text" class="form-control form-control-sm" name="year" value="{{ vin.year }}" required></div>
        <div class="col-md-2"><label>Make</label><input type="text" class="form-control form-control-sm" name="make" value="{{ vin.make }}" required></div>
        <div class="col-md-2"><label>Model</label><input type="text" class="form-control form-control-sm" name="model" value="{{ vin.model }}" required></div>
        <div class="col-md-3"><label>Body</label><input type="text" class="form-control form-control-sm" name="body" value="{{ vin.body }}"></div>
        
        <div class="col-md-2"><label>Color</label><input type="text" class="form-control form-control-sm" name="color" value="{{ vin.color }}"></div>
        <div class="col-md-2"><label>Plate</label><input type="text" class="form-control form-control-sm" name="plate" value="{{ vin.plate }}"></div>
        <div class="col-md-2"><label>Weight</label><input type="text" class="form-control form-control-sm" name="weight" value="{{ vin.weight }}"></div>
        <div class="col-md-2"><label>Carrying Weight</label><input type="text" class="form-control form-control-sm" name="cweight" value="{{ vin.cweight }}"></div>
        <div class="col-md-2"><label>Odometer</label><input type="text" class="form-control form-control-sm" name="odometer" value="{{ vin.odometer }}"></div>

        <!-- 🛠️ Repair & Status Details -->
        <div class="col-12">
            <h4 class="bg-info text-white p-2">🛠️ Repair & Status Details</h4>
        </div>
        <div class="col-md-3"><label>Repair Amount ($)</label><input type="number" class="form-control form-control-sm" name="repair_amount" value="{{ vin.repair_amount }}"></div>
        <div class="col-md-3"><label>Ready to Title</label><input type="text" class="form-control form-control-sm" name="ready_to_title" value="{{ vin.ready_to_title }}"></div>
        <div class="col-md-3"><label>Status Downtown</label><input type="text" class="form-control form-control-sm" name="status_downtown" value="{{ vin.status_downtown }}"></div>
        <div class="col-md-3"><label>Date Sent Downtown</label><input type="date" class="form-control form-control-sm" name="date_sent_downtown" value="{{ vin.date_sent_downtown }}"></div>
        <div class="col-md-3"><label>Lien Canceled</label><input type="text" class="form-control form-control-sm" name="lien_canceled" value="{{ vin.lien_canceled }}"></div>
        <div class="col-md-3"><label>Date Canceled</label><input type="date" class="form-control form-control-sm" name="date_canceled" value="{{ vin.date_canceled }}"></div>
        <div class="col-md-3"><label>Transferred to Harris County</label><input type="text" class="form-control form-control-sm" name="transferred_harris_county" value="{{ vin.transferred_harris_county }}"></div>
        <div class="col-md-3"><label>Dealership County</label><input type="text" class="form-control form-control-sm" name="county" value="{{ vin.county }}"></div>

        <!-- 🏠 Owner Information -->
        <div class="col-12">
            <h4 class="bg-success text-white p-2">🏠 Owner Information</h4>
        </div>
        <div class="col-md-4"><label>Owner Name</label><input type="text" class="form-control form-control-sm" name="owner" value="{{ vin.owner }}"></div>
        <div class="col-md-4"><label>Address</label><input type="text" class="form-control form-control-sm" name="owner_address1" value="{{ vin.owner_address1 }}"></div>
        <div class="col-md-4"><label>City, State Zip</label><input type="text" class="form-control form-control-sm" name="owner_address2" value="{{ vin.owner_address2 }}"></div>

        <!-- 🔄 Renewal Information -->
        <div class="col-12">
            <h4 class="bg-warning text-dark p-2">🔄 Renewal Information</h4>
        </div>
        <div class="col-md-4"><label>Renewal Name</label><input type="text" class="form-control form-control-sm" name="renewal" value="{{ vin.renewal }}"></div>
        <div class="col-md-4"><label>Address</label><input type="text" class="form-control form-control-sm" name="renewal_address1" value="{{ vin.renewal_address1 }}"></div>
        <div class="col-md-4"><label>City, State Zip</label><input type="text" class="form-control form-control-sm" name="renewal_address2" value="{{ vin.renewal_address2 }}"></div>

        <!-- 🏦 Lien Holder Information -->
        <div class="col-12">
            <h4 class="bg-danger text-white p-2">🏦 Lien Holder Information</h4>
        </div>
        <div class="col-md-4"><label>Lien Holder</label><input type="text" class="form-control form-control-sm" name="lein_holder" value="{{ vin.lein_holder }}"></div>
        <div class="col-md-4"><label>Address</label><input type="text" class="form-control form-control-sm" name="lein_holder_address1" value="{{ vin.lein_holder_address1 }}"></div>
        <div class="col-md-4"><label>City, State Zip</label><input type="text" class="form-control form-control-sm" name="lein_holder_address2" value="{{ vin.lein_holder_address2 }}"></div>

        <!-- 🧍 Person Who Left -->
        <div class="col-12">
            <h4 class="bg-secondary text-white p-2">🧍 Person Who Left</h4>
        </div>
        <div class="col-md-4"><label>Name</label><input type="text" class="form-control form-control-sm" name="person_left" value="{{ vin.person_left }}"></div>
        <div class="col-md-4"><label>Address</label><input type="text" class="form-control form-control-sm" name="person_left_address1" value="{{ vin.person_left_address1 }}"></div>
        <div class="col-md-4"><label>City, State Zip</label><input type="text" class="form-control form-control-sm" name="person_left_address2" value="{{ vin.person_left_address2 }}"></div>

        <!-- 🏷️ Lien Status -->
        <div class="col-12">
            <h4 class="bg-light text-dark p-2">🏷️ Lien Status</h4>
        </div>
        <div class="col-md-4">
            <label for="status" class="form-label fw-bold">Status</label>
            <select class="form-select form-select-sm" id="status" name="status" required>
                <option value="In Process" {% if vin.status == 'In Process' %}selected{% endif %}>In Process</option>
                <option value="Finished" {% if vin.status == 'Finished' %}selected{% endif %}>Finished</option>
                <option value="Canceled" {% if vin.status == 'Canceled' %}selected{% endif %}>Canceled</option>
            </select>
        </div>

        <!-- 📜 Certification -->
        <div class="col-12">
            <h4 class="bg-dark text-white p-2">📜 Certified Letters</h4>
        </div>
        {% for i in range(1, 7) %}
        <div class="col-md-3"><label>Cert {{ i }}</label><input type="text" class="form-control form-control-sm" name="cert{{ i }}" value="{{ vin['cert' + i|string] }}"></div>
        <div class="col-md-3"><label>Status {{ i }}</label><input type="text" class="form-control form-control-sm" name="cert{{ i }}_status" value="{{ vin['cert' + i|string + '_status'] }}"></div>
        {% endfor %}

        <!-- 📅 Important Dates -->
        <div class="col-12">
            <h4 class="bg-secondary text-white p-2">📅 Important Dates</h4>
        </div>
        <div class="col-md-3"><label>Date Left</label><input type="date" class="form-control form-control-sm" name="date_left" value="{{ vin.date_left }}"></div>
        <div class="col-md-3"><label>Date Completed</label><input type="date" class="form-control form-control-sm" name="date_completed" value="{{ vin.date_completed }}"></div>
        <div class="col-md-3"><label>Date Notified</label><input type="date" class="form-control form-control-sm" name="date_notified" value="{{ vin.date_notified }}"></div>
        <div class="col-md-3"><label>Sale Date</label><input type="date" class="form-control form-control-sm" name="sale_date" value="{{ vin.sale_date }}"></div>

        <!-- 🔘 Submit -->
        <div class="col-12 text-center mt-3">
            <button type="submit" class="btn btn-primary">💾 Save Changes</button>
            <a href="{{ url_for('search_vin') }}" class="btn btn-secondary">❌ Cancel</a>
        </div>

    </form>

</body>
</html>
